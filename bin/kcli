#!/usr/bin/env node

/**
 * Kinesis Broker CLI
 */

const program = require('caporal');

const { version: CLI_VERSION } = require('../package.json');

const {
  buy,
  sell,
} = require('../broker-cli');

/**
 * Initial Program Setup
 */
program
  .version(CLI_VERSION)
  .description('KINESIS BROKER CLI');

/**
 * Initialize Commands
 *
 * We do this initialization to provide closures to each of our commands. Although
 * this may use a little more memory, it allows us to couple arguments/handlers in
 * the same file AND prevents us from cluttering the global scope when using caporal
 *
 * Available Commands:
 * - `kcli buy`
 * - `kcli sell`
 */

buy(program);
sell(program);

program.parse(process.argv);
