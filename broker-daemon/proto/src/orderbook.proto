syntax = "proto3";

message WatchMarketRequest {
  string market = 0;
}

message WatchMarketResponse {

  EventType type = 0;
  MarketEvent market_event = 1;

  enum EventType {
      ADD = 1;
      DELETE = 2;
  }
}

message MarketEvent {
  string orderId = 0;
  string amount = 1;
  string price = 2;
  Side side = 3;
}

service OrderBookService {
  rpc WatchMarket (WatchMarketRequest) returns (stream WatchMarketResponse);
}
